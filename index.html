<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>UsingAngularInAngularjs</title>
    <script src="/node_modules/systemjs/dist/system.js"></script>
    <script src="/node_modules/reflect-metadata/Reflect.js"></script>
    <script src="/node_modules/zone.js/dist/zone.js"></script>

    <script src="/app.js"></script>


    <script>
        //SystemJS.defaultJSExtensions = true;
        SystemJS.config(
            {



                paths:{
                    'rxjs':'node_modules/rxjs'
                },


                map: {

                    'angular': 'node_modules/angular/angular.min.js',
                    'jquery': 'node_modules/jquery/dist/jquery.min.js',
                    'reflect-metadata': 'node_modules/reflect-metadata/reflect.js',
                    'zonejs': 'node_modules/zone.js/dist/zone.min.js',



                    //app: 'app', // location of transpiled app files

                    // angular minimized umd bundles
                    '@angular/core': 'node_modules/@angular/core/bundles/core.umd.min.js',
                    '@angular/common': 'node_modules/@angular/common/bundles/common.umd.min.js',
                    '@angular/compiler': 'node_modules/@angular/compiler/bundles/compiler.umd.min.js',
                    '@angular/platform-browser': 'node_modules/@angular/platform-browser/bundles/platform-browser.umd.min.js',
                    '@angular/platform-browser-dynamic': 'node_modules/@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.min.js',
                    '@angular/http': 'node_modules/@angular/http/bundles/http.umd.min.js',
                    '@angular/router': 'node_modules/@angular/router/bundles/router.umd.min.js',
                    '@angular/router/upgrade': 'node_modules/@angular/router/bundles/router-upgrade.umd.min.js',
                    '@angular/forms': 'node_modules/@angular/forms/bundles/forms.umd.min.js',
                    '@angular/upgrade': 'node_modules/@angular/upgrade/bundles/upgrade.umd.min.js',
                    '@angular/upgrade/static': 'node_modules/@angular/upgrade/bundles/upgrade-static.umd.min.js',

                    // other libraries
                    //'rxjs': 'node_modules/rxjs'
                    //'angular-in-memory-web-api': 'node_modules/angular-in-memory-web-api/bundles/in-memory-web-api.umd.js'


                },
                meta: {
                    '/node_modules/jquery/dist/jquery.min.js': {
                        format: 'global',
                        exports: 'jquery'
                    }

                },
                packages: {
                    
                    rxjs: {
                        defaultExtension: 'js'
                    }
                }
            });

        SystemJS.import('a1.module');
        SystemJS.import('a1.controller');
        SystemJS.import('a1.fooBar.directive'); /* case sensitive */
        SystemJS.import('a1.testService.service'); /* case sensitive */
        SystemJS.import('a2.component'); /* case sensitive */
        SystemJS.import('a2.module').then(function () {
            console.log('all fine...');
        })
    </script>

</head>

<body>
    <p>This application has more or less the structure and dependencies of the real app we are porting.
    ui router is not yet in the picture but see readme for article pointing on how to upgrade the router
    many components are simple and undrealistic but we show di in angular></p>
    <ng1-component></ng1-component>
    <foo-bar></foo-bar>
    <ng2-component>
        <a2-component2></a2-component2>
    </ng2-component>

    <!-- this component is declared and used in A2, but does not render -->
   <!--<wow foo="21" ></wow>-->

    <!-- does not render... -->
    <!-- <a2-component></a2-component>-->

    <!-- this is wow, dowgraded but the template has A2 syntax-->
    <a2-wow-component [bar]="'I am bar'"></a2-wow-component>
    
    
</body>

</html>